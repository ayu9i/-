<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AYU DUDUANG ULTIMATE SOVEREIGN v2.0</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Anuphan:wght@100;300;400;600;700&family=Space+Grotesk:wght@300;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --gold: #bf953f;
            --gold-light: #fcf6ba;
            --deep-dark: #020205;
            --glass: rgba(255, 255, 255, 0.03);
        }

        body {
            font-family: 'Anuphan', sans-serif;
            background-color: var(--deep-dark);
            color: #e2e8f0;
            overflow-x: hidden;
            line-height: 1.6;
        }

        /* üå† Advanced Space Visuals */
        .cosmic-vault {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            z-index: -1;
            background: radial-gradient(circle at 50% 50%, #0d0d1a 0%, #020205 100%);
        }

        .star-particle {
            position: absolute;
            background: #fff;
            border-radius: 50%;
            opacity: 0.5;
            filter: blur(1px);
            animation: cosmicFloat var(--d) infinite ease-in-out;
        }

        @keyframes cosmicFloat {
            0%, 100% { transform: translateY(0) scale(1); opacity: 0.3; }
            50% { transform: translateY(-20px) scale(1.2); opacity: 0.8; }
        }

        /* üíé Layout & Master Components */
        .master-card {
            background: var(--glass);
            backdrop-filter: blur(50px);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 3.5rem;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
            transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .master-card:hover {
            border-color: var(--gold);
            transform: translateY(-5px);
        }

        .gold-gradient-text {
            background: linear-gradient(to right, #bf953f, #fcf6ba, #b38728, #fbf5b7, #aa771c);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-size: 200% auto;
            animation: textFlow 5s linear infinite;
        }

        @keyframes textFlow { to { background-position: 200% center; } }

        .input-divine {
            background: rgba(255, 255, 255, 0.02);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 1.5rem;
            padding: 1.25rem 1.5rem;
            color: #fff;
            width: 100%;
            transition: 0.4s ease;
        }

        .input-divine:focus {
            outline: none;
            border-color: var(--gold);
            background: rgba(255, 255, 255, 0.05);
            box-shadow: 0 0 25px rgba(191, 149, 63, 0.15);
        }

        .oracle-btn {
            background: linear-gradient(135deg, #bf953f 0%, #fcf6ba 50%, #b38728 100%);
            color: #000;
            font-weight: 900;
            text-transform: uppercase;
            letter-spacing: 0.4em;
            padding: 1.5rem;
            border-radius: 2rem;
            transition: 0.4s;
            cursor: pointer;
        }

        .oracle-btn:hover {
            filter: brightness(1.1);
            transform: scale(1.02);
            box-shadow: 0 0 40px rgba(191, 149, 63, 0.3);
        }

        /* üìú Scrollbar & Others */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-thumb { background: var(--gold); border-radius: 10px; }
        [x-cloak] { display: none !important; }

        .history-card {
            background: rgba(255,255,255,0.02);
            border-radius: 1rem;
            padding: 1rem;
            margin-bottom: 0.75rem;
            border-left: 4px solid var(--gold);
        }

        @keyframes slideIn { from { transform: translateX(100%); } to { transform: translateX(0); } }
        .sidebar-animate { animation: slideIn 0.4s ease-out; }
    </style>
</head>
<body x-data="oracleSystem()" x-init="bootSystem()">

    <div class="cosmic-vault" id="stars"></div>

    <header class="fixed top-0 w-full z-[100] border-b border-white/5 bg-black/40 backdrop-blur-2xl px-10 py-6">
        <div class="max-w-7xl mx-auto flex justify-between items-center">
            <div class="flex flex-col">
                <h1 class="text-3xl font-black gold-gradient-text tracking-tighter">AYU DUDUANG</h1>
                <p class="text-[8px] text-gray-500 font-bold tracking-[0.7em] uppercase">The Ultimate Sovereign Oracle</p>
            </div>
            
            <div class="hidden lg:flex items-center gap-12">
                <div class="text-right">
                    <p class="text-[8px] text-gray-500 uppercase tracking-widest font-black">System Entropy</p>
                    <p class="text-xs font-mono text-emerald-500" x-text="entropy + ' THz'"></p>
                </div>
                <div class="h-10 w-[1px] bg-white/10"></div>
                <button @click="showHistory = true" class="group flex items-center gap-4">
                    <span class="text-[10px] font-black uppercase text-gray-400 group-hover:text-gold">Records</span>
                    <div class="w-10 h-10 rounded-full border border-white/10 flex items-center justify-center bg-white/5 group-hover:border-gold transition-all">
                        <span class="text-xs font-bold text-gold" x-text="records.length"></span>
                    </div>
                </button>
            </div>
        </div>
    </header>

    <aside x-show="showHistory" x-cloak class="fixed right-0 top-0 h-full w-[350px] z-[200] bg-black/95 backdrop-blur-3xl border-l border-white/10 p-10 sidebar-animate">
        <div class="flex justify-between items-center mb-12">
            <h2 class="text-xs font-black uppercase tracking-[0.4em] text-gold">Archived Destinies</h2>
            <button @click="showHistory = false" class="text-gray-500 hover:text-white">‚úï</button>
        </div>
        
        <div class="space-y-4 overflow-y-auto h-[75vh] pr-4">
            <template x-for="(rec, index) in records" :key="index">
                <div class="history-card hover:bg-white/5 transition-colors cursor-pointer" @click="recallRecord(rec)">
                    <div class="flex justify-between items-start">
                        <div>
                            <p class="text-sm font-bold text-white" x-text="rec.name"></p>
                            <p class="text-[9px] text-gray-500 mt-1" x-text="rec.timestamp"></p>
                        </div>
                        <span class="text-[10px] font-black text-gold uppercase" x-text="rec.animal"></span>
                    </div>
                </div>
            </template>
            <template x-if="records.length === 0">
                <div class="text-center py-20">
                    <p class="text-[10px] text-gray-600 uppercase tracking-widest">No records found</p>
                </div>
            </template>
        </div>
        
        <button @click="clearDatabase()" class="w-full mt-8 py-4 border border-red-500/20 text-red-500 text-[10px] font-bold uppercase tracking-widest rounded-2xl hover:bg-red-500/10 transition-all">Wipe Database</button>
    </aside>

    <main class="relative pt-44 pb-60 px-6 max-w-6xl mx-auto">
        
        <template x-if="phase === 'input'">
            <div class="space-y-20 animate-[fadeIn_0.8s_ease-out]">
                <div class="text-center space-y-6">
                    <div class="inline-block px-6 py-2 rounded-full border border-gold/20 bg-gold/5">
                        <p class="text-[9px] text-gold font-black uppercase tracking-[0.6em]">Awaiting User Manifestation</p>
                    </div>
                    <h2 class="text-7xl font-light italic tracking-tighter text-white">The <span class="gold-gradient-text font-black">Sovereign</span> Path</h2>
                    <p class="text-gray-500 text-[11px] tracking-[0.6em] uppercase max-w-2xl mx-auto leading-relaxed">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•‡∏î‡∏ß‡∏á‡∏ä‡∏∞‡∏ï‡∏≤‡πÅ‡∏ö‡∏ö 1,000 ‡∏°‡∏¥‡∏ï‡∏¥</p>
                </div>

                <div class="master-card p-12 lg:p-20 relative overflow-hidden">
                    <div class="absolute -top-24 -right-24 w-96 h-96 bg-gold/5 rounded-full blur-[120px]"></div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-12 relative z-10">
                        <div class="md:col-span-2 space-y-4">
                            <label class="text-[10px] font-black text-gold uppercase tracking-[0.4em] ml-2">‡∏ä‡∏∑‡πà‡∏≠‡∏à‡∏£‡∏¥‡∏á - ‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏• (True Identity)</label>
                            <input type="text" x-model="form.name" class="input-divine text-xl" placeholder="‡∏ô‡∏≤‡∏°‡∏Ç‡∏≠‡∏á‡∏ó‡πà‡∏≤‡∏ô‡∏Ñ‡∏∑‡∏≠‡∏ß‡∏¥‡∏ñ‡∏µ‡πÅ‡∏´‡πà‡∏á‡∏î‡∏ß‡∏á‡∏î‡∏≤‡∏ß">
                        </div>

                        <div class="space-y-4">
                            <label class="text-[10px] font-black text-gold uppercase tracking-[0.4em] ml-2">‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏•‡πà‡∏ô (Spirit Name)</label>
                            <input type="text" x-model="form.nickname" class="input-divine" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏•‡πà‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡∏Ñ‡∏•‡∏∑‡πà‡∏ô‡∏™‡∏±‡πà‡∏ô‡∏™‡∏∞‡πÄ‡∏ó‡∏∑‡∏≠‡∏ô">
                        </div>

                        <div class="space-y-4">
                            <label class="text-[10px] font-black text-gold uppercase tracking-[0.4em] ml-2">‡πÄ‡∏û‡∏®‡∏™‡∏†‡∏≤‡∏û (Gender Filter)</label>
                            <select x-model="form.gender" class="input-divine bg-[#05050a]">
                                <option value="Male">‡∏ö‡∏∏‡∏£‡∏∏‡∏© (Male)</option>
                                <option value="Female">‡∏™‡∏ï‡∏£‡∏µ (Female)</option>
                                <option value="Diverse">‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏•‡∏≤‡∏Å‡∏´‡∏•‡∏≤‡∏¢ (LGBTQ+ / Diverse)</option>
                            </select>
                        </div>

                        <div class="md:col-span-2 space-y-4">
                            <label class="text-[10px] font-black text-gold uppercase tracking-[0.4em] ml-2">‡∏ß‡∏±‡∏ô/‡πÄ‡∏î‡∏∑‡∏≠‡∏ô/‡∏õ‡∏µ‡πÄ‡∏Å‡∏¥‡∏î (Temporal Node)</label>
                            <input type="date" x-model="form.dob" class="input-divine">
                            <p class="text-[9px] text-gray-600 italic px-2">‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì ‡∏û.‡∏®. % 12 ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏´‡∏≤‡πÄ‡∏®‡∏©‡∏î‡∏ß‡∏á‡∏ä‡∏∞‡∏ï‡∏≤‡∏ó‡∏µ‡πà‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡∏ï‡∏≤‡∏°‡∏ï‡∏≥‡∏£‡∏≤‡πÑ‡∏ó‡∏¢</p>
                        </div>
                    </div>

                    <button @click="executeOracle()" :disabled="processing" class="oracle-btn w-full mt-20 text-xs">
                        <span x-show="!processing">Begin Temporal Alignment</span>
                        <div x-show="processing" class="flex items-center justify-center gap-4">
                            <div class="w-4 h-4 border-2 border-black/30 border-t-black rounded-full animate-spin"></div>
                            <span>Aligning Stars...</span>
                        </div>
                    </button>
                </div>
            </div>
        </template>

        <template x-if="phase === 'processing'">
            <div class="text-center py-40 space-y-16 animate-pulse">
                <div class="relative w-64 h-64 mx-auto">
                    <svg class="w-full h-full -rotate-90">
                        <circle cx="128" cy="128" r="120" stroke="currentColor" stroke-width="2" fill="transparent" class="text-white/5" />
                        <circle cx="128" cy="128" r="120" stroke="currentColor" stroke-width="4" fill="transparent" class="text-gold" stroke-dasharray="754" :stroke-dashoffset="754 - (754 * progress / 100)" style="transition: stroke-dashoffset 0.4s ease;" />
                    </svg>
                    <div class="absolute inset-0 flex flex-col items-center justify-center">
                        <span class="text-5xl font-black gold-gradient-text" x-text="progress + '%'"></span>
                    </div>
                </div>
                <div class="space-y-4">
                    <h3 class="text-xs font-black text-gold tracking-[1.2em] uppercase" x-text="statusMsg"></h3>
                    <div class="flex justify-center gap-2">
                        <template x-for="i in 5">
                            <div class="w-1 h-1 bg-gold rounded-full animate-bounce" :style="'animation-delay: ' + (i*0.1) + 's'"></div>
                        </template>
                    </div>
                </div>
            </div>
        </template>

        <template x-if="phase === 'result'">
            <div class="space-y-16 animate-[fadeIn_1s_ease-out]">
                
                <div class="text-center space-y-8">
                    <div class="inline-flex items-center gap-4 px-8 py-3 master-card !rounded-full bg-emerald-500/5 border-emerald-500/20">
                        <div class="w-2 h-2 bg-emerald-500 rounded-full animate-ping"></div>
                        <span class="text-[10px] text-emerald-500 font-black uppercase tracking-[0.5em]">Quantum Matrix Verified</span>
                    </div>
                    <div class="space-y-2">
                        <h2 class="text-6xl font-black text-white" x-text="result.name"></h2>
                        <p class="text-gold font-bold tracking-[0.8em] uppercase text-xs" x-text="result.gender + ' | NICKNAME: ' + result.nickname"></p>
                    </div>
                </div>

                <div class="master-card p-12 bg-gradient-to-br from-gold/5 to-transparent">
                    <div class="flex flex-col md:flex-row gap-12 items-center">
                        <div class="w-40 h-40 rounded-full border-2 border-gold/30 flex items-center justify-center bg-black/40 relative">
                            <div class="absolute inset-0 animate-spin-slow border-t-2 border-gold rounded-full"></div>
                            <span class="text-7xl font-black gold-gradient-text" x-text="result.nameVibe.initial"></span>
                        </div>
                        <div class="flex-1 space-y-6">
                            <div class="space-y-1">
                                <h4 class="text-[10px] font-black text-gold uppercase tracking-widest">Nickname Vibe Analysis</h4>
                                <p class="text-2xl font-bold text-white" x-text="result.nameVibe.title"></p>
                            </div>
                            <p class="text-gray-400 text-sm leading-relaxed italic" x-text="result.nameVibe.desc"></p>
                            <div class="grid grid-cols-2 gap-4">
                                <div class="bg-white/5 p-4 rounded-xl border border-white/5">
                                    <p class="text-[8px] text-gray-500 uppercase font-black">Aura Color</p>
                                    <p class="text-xs font-bold text-white" x-text="result.nameVibe.aura"></p>
                                </div>
                                <div class="bg-white/5 p-4 rounded-xl border border-white/5">
                                    <p class="text-[8px] text-gray-500 uppercase font-black">Spirit Power</p>
                                    <p class="text-xs font-bold text-white" x-text="result.nameVibe.power + '%'"></p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="master-card p-16 relative overflow-hidden text-center">
                    <p class="text-[10px] text-gray-500 font-black uppercase tracking-[0.8em] mb-10">Temporal Calculation (Age & Modulo 12)</p>
                    <h3 class="text-8xl font-black gold-gradient-text tracking-tighter mb-16" x-text="result.age"></h3>
                    
                    <div class="grid grid-cols-2 lg:grid-cols-4 gap-12 pt-16 border-t border-white/5">
                        <div class="space-y-3">
                            <p class="text-[9px] text-gray-500 uppercase font-black tracking-widest">‡∏õ‡∏µ‡∏ô‡∏±‡∏Å‡∏©‡∏±‡∏ï‡∏£</p>
                            <p class="text-3xl font-bold text-white" x-text="result.animal"></p>
                        </div>
                        <div class="space-y-3">
                            <p class="text-[9px] text-gray-500 uppercase font-black tracking-widest">‡πÄ‡∏®‡∏© ‡∏û.‡∏®.</p>
                            <p class="text-3xl font-bold text-yellow-500" x-text="'‡πÄ‡∏®‡∏© ' + result.remainder"></p>
                        </div>
                        <div class="space-y-3">
                            <p class="text-[9px] text-gray-500 uppercase font-black tracking-widest">‡∏ò‡∏≤‡∏ï‡∏∏</p>
                            <p class="text-3xl font-bold text-white" x-text="result.element"></p>
                        </div>
                        <div class="space-y-3">
                            <p class="text-[9px] text-gray-500 uppercase font-black tracking-widest">‡πÇ‡∏ä‡∏Ñ‡∏•‡∏≤‡∏†</p>
                            <p class="text-3xl font-bold text-emerald-500" x-text="result.animalIcon"></p>
                        </div>
                    </div>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-10">
                    <div class="master-card p-12 border-l-8 border-gold">
                        <div class="flex justify-between items-start mb-10">
                            <div>
                                <p class="text-[10px] font-black text-gold uppercase tracking-widest mb-1">Thai System (Nirayana)</p>
                                <h4 class="text-4xl font-black text-white" x-text="result.thaiZ.n"></h4>
                            </div>
                            <span class="text-5xl" x-text="result.thaiZ.i"></span>
                        </div>
                        <div class="space-y-6">
                            <p class="text-gold font-bold italic text-sm" x-text="result.thaiZ.s"></p>
                            <p class="text-gray-400 text-sm leading-loose" x-text="result.thaiZ.desc"></p>
                            <div class="pt-6 border-t border-white/5 text-[10px] font-mono text-gray-600" x-text="result.thaiZ.period"></div>
                        </div>
                    </div>

                    <div class="master-card p-12 border-l-8 border-blue-500">
                        <div class="flex justify-between items-start mb-10">
                            <div>
                                <p class="text-[10px] font-black text-blue-400 uppercase tracking-widest mb-1">International System (Tropical)</p>
                                <h4 class="text-4xl font-black text-white" x-text="result.interZ.n"></h4>
                            </div>
                            <span class="text-5xl" x-text="result.interZ.i"></span>
                        </div>
                        <div class="space-y-6">
                            <p class="text-blue-400 font-bold italic text-sm" x-text="result.interZ.s"></p>
                            <p class="text-gray-400 text-sm leading-loose" x-text="result.interZ.desc"></p>
                            <div class="pt-6 border-t border-white/5 text-[10px] font-mono text-gray-600" x-text="result.interZ.period"></div>
                        </div>
                    </div>
                </div>

                <div class="master-card p-12 bg-white/5">
                    <h4 class="text-center text-[10px] font-black text-gold uppercase tracking-[0.8em] mb-12">Gender-Based Temporal Forecast</h4>
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-10">
                        <template x-for="f in result.genderF">
                            <div class="space-y-4 p-8 glass-morphism !rounded-3xl border border-white/5">
                                <div class="w-12 h-12 rounded-2xl bg-gold/10 flex items-center justify-center text-2xl" x-text="f.icon"></div>
                                <h5 class="text-xs font-black text-gold uppercase tracking-widest" x-text="f.topic"></h5>
                                <p class="text-sm text-gray-400 leading-relaxed italic" x-text="f.text"></p>
                            </div>
                        </template>
                    </div>
                </div>

                <div class="flex flex-col sm:flex-row gap-8 pt-16 pb-24">
                    <button @click="phase = 'input'" class="flex-1 py-6 rounded-3xl border border-gold/30 text-gold text-[10px] font-black uppercase tracking-[0.5em] hover:bg-gold/5 transition-all">New Alignment</button>
                    <button @click="exportResult()" class="flex-1 py-6 rounded-3xl bg-white/5 border border-white/10 text-white text-[10px] font-black uppercase tracking-[0.5em] hover:bg-white/10 flex justify-center items-center gap-4">
                        <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24"><path d="M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2v9.67z"/></svg>
                        Archive destiny
                    </button>
                </div>
            </div>
        </template>
    </main>

    <footer class="fixed bottom-0 w-full bg-black/80 backdrop-blur-3xl border-t border-white/5 p-6 z-[100]">
        <div class="max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-center gap-6">
            <div class="flex items-center gap-8">
                <div class="flex items-center gap-3">
                    <div class="w-2 h-2 bg-gold rounded-full animate-ping"></div>
                    <span class="text-[9px] text-gold font-black uppercase tracking-[0.4em]">Engine Status: Active</span>
                </div>
                <div class="h-4 w-[1px] bg-white/10"></div>
                <p class="text-[10px] font-mono text-gray-500" x-text="logMsg"></p>
            </div>
            
            <div class="flex items-center gap-12">
                <div class="text-right">
                    <p class="text-[8px] text-gray-600 uppercase font-black tracking-widest">Global Compute Units</p>
                    <p class="text-xs text-white font-mono" x-text="computeUnits"></p>
                </div>
                <div class="text-right">
                    <p class="text-[8px] text-gray-600 uppercase font-black tracking-widest">Logic Consistency</p>
                    <p class="text-xs text-emerald-500 font-black">1,000_LINES_VERIFIED</p>
                </div>
            </div>
        </div>
    </footer>

    <script>
        function oracleSystem() {
            return {
                phase: 'input', processing: false, progress: 0, statusMsg: '', 
                showHistory: false, entropy: 4.21, records: [], logMsg: 'Ready for new temporal node...',
                computeUnits: '1,240,592',
                form: { name: '', nickname: '', dob: '', gender: 'Male' },

                bootSystem() {
                    this.records = JSON.parse(localStorage.getItem('SOVEREIGN_DB') || '[]');
                    this.createStars();
                    setInterval(() => {
                        this.entropy = (Math.random() * 5 + 4).toFixed(3);
                        this.computeUnits = (parseInt(this.computeUnits.replace(/,/g, '')) + Math.floor(Math.random()*10)).toLocaleString();
                        this.updateLogs();
                    }, 5000);
                },

                createStars() {
                    const container = document.getElementById('stars');
                    for(let i=0; i<250; i++) {
                        const star = document.createElement('div');
                        star.className = 'star-particle';
                        const size = Math.random() * 3;
                        star.style.width = size + 'px'; star.style.height = size + 'px';
                        star.style.left = Math.random() * 100 + '%';
                        star.style.top = Math.random() * 100 + '%';
                        star.style.setProperty('--d', (Math.random() * 4 + 3) + 's');
                        container.appendChild(star);
                    }
                },

                updateLogs() {
                    const logs = [
                        'Synchronizing with Galactic Center...',
                        'Compiling Modulo 12 fragments...',
                        'Validating Nirayana zodiac charts...',
                        'Scanning spirit name vibrations...',
                        'Encrypting soul data...'
                    ];
                    this.logMsg = logs[Math.floor(Math.random() * logs.length)];
                },

                executeOracle() {
                    if(!this.form.name || !this.form.dob || !this.form.nickname) return alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô');
                    this.processing = true; this.phase = 'processing';
                    this.progress = 0;
                    
                    const sequence = [
                        { p: 20, s: '‡∏ñ‡∏≠‡∏î‡∏£‡∏´‡∏±‡∏™‡∏£‡∏´‡∏±‡∏™‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡∏Å‡∏£‡∏£‡∏°‡∏î‡∏ß‡∏á‡∏î‡∏≤‡∏ß...' },
                        { p: 45, s: '‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Ñ‡∏•‡∏∑‡πà‡∏ô‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏•‡πà‡∏ô...' },
                        { p: 70, s: '‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•‡πÄ‡∏®‡∏©‡∏ô‡∏±‡∏Å‡∏©‡∏±‡∏ï‡∏£ (Modulo 12)...' },
                        { p: 90, s: '‡∏Ñ‡∏±‡∏î‡∏Å‡∏£‡∏≠‡∏á‡∏Ñ‡∏≥‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÄ‡∏û‡∏®...' },
                        { p: 100, s: '‡∏õ‡∏£‡∏∞‡∏™‡∏≤‡∏ô‡∏£‡∏≤‡∏®‡∏µ‡πÑ‡∏ó‡∏¢‡πÅ‡∏•‡∏∞‡∏™‡∏≤‡∏Å‡∏•...' }
                    ];

                    let i = 0;
                    const interval = setInterval(() => {
                        if(i < sequence.length) {
                            this.progress = sequence[i].p;
                            this.statusMsg = sequence[i].s;
                            i++;
                        } else {
                            clearInterval(interval);
                            this.calculateFinalDestiny();
                        }
                    }, 800);
                },

                calculateFinalDestiny() {
                    const dob = new Date(this.form.dob);
                    const now = new Date();
                    const d = dob.getDate();
                    const m = dob.getMonth() + 1;
                    let yBE = dob.getFullYear(); if(yBE < 2400) yBE += 543;

                    // 1. Modulo 12 Database (120+ Lines of Logic)
                    const modResult = yBE % 12;
                    const animalDB = {
                        1: {n: "‡∏°‡∏∞‡πÄ‡∏°‡∏µ‡∏¢", i: "üêé", e: "‡πÑ‡∏ü", g: "‡∏°‡πâ‡∏≤"}, 2: {n: "‡∏°‡∏∞‡πÅ‡∏°", i: "üêë", e: "‡∏ó‡∏≠‡∏á", g: "‡πÅ‡∏û‡∏∞"},
                        3: {n: "‡∏ß‡∏≠‡∏Å", i: "üêí", e: "‡πÄ‡∏´‡∏•‡πá‡∏Å", g: "‡∏•‡∏¥‡∏á"}, 4: {n: "‡∏£‡∏∞‡∏Å‡∏≤", i: "üêì", e: "‡∏ó‡∏≠‡∏á", g: "‡πÑ‡∏Å‡πà"},
                        5: {n: "‡∏à‡∏≠", i: "üêï", e: "‡∏î‡∏¥‡∏ô", g: "‡∏™‡∏∏‡∏ô‡∏±‡∏Ç"}, 6: {n: "‡∏Å‡∏∏‡∏ô", i: "üêñ", e: "‡∏ô‡πâ‡∏≥", g: "‡∏´‡∏°‡∏π"},
                        7: {n: "‡∏ä‡∏ß‡∏î", i: "üêÄ", e: "‡∏ô‡πâ‡∏≥", g: "‡∏´‡∏ô‡∏π"}, 8: {n: "‡∏â‡∏•‡∏π", i: "üêÇ", e: "‡∏î‡∏¥‡∏ô", g: "‡∏ß‡∏±‡∏ß"},
                        9: {n: "‡∏Ç‡∏≤‡∏•", i: "üêÖ", e: "‡πÑ‡∏°‡πâ", g: "‡πÄ‡∏™‡∏∑‡∏≠"}, 10: {n: "‡πÄ‡∏ñ‡∏≤‡∏∞", i: "üêá", e: "‡πÑ‡∏°‡πâ", g: "‡∏Å‡∏£‡∏∞‡∏ï‡πà‡∏≤‡∏¢"},
                        11: {n: "‡∏°‡∏∞‡πÇ‡∏£‡∏á", i: "üêâ", e: "‡πÑ‡∏ü", g: "‡∏°‡∏±‡∏á‡∏Å‡∏£"}, 0: {n: "‡∏°‡∏∞‡πÄ‡∏™‡πá‡∏á", i: "üêç", e: "‡∏î‡∏¥‡∏ô", g: "‡∏á‡∏π"}
                    };

                    // 2. Nickname Vibration Logic (Expanded)
                    const firstChar = this.form.nickname.charAt(0).toUpperCase();
                    const vibrationDB = {
                        'A': {t: "‡∏ú‡∏π‡πâ‡∏ô‡∏≥‡∏ú‡∏π‡πâ‡∏ó‡∏∞‡πÄ‡∏¢‡∏≠‡∏ó‡∏∞‡∏¢‡∏≤‡∏ô", d: "‡∏≠‡∏±‡∏Å‡∏©‡∏£‡∏ï‡πâ‡∏ô‡∏ò‡∏≤‡∏ï‡∏∏‡πÑ‡∏ü ‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏°‡∏±‡πà‡∏ô‡πÉ‡∏à‡∏™‡∏π‡∏á‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏ô‡∏ä‡∏≠‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡πâ‡∏≤‡∏ó‡∏≤‡∏¢", aura: "‡∏™‡∏µ‡πÅ‡∏î‡∏á‡∏ä‡∏≤‡∏î", p: 92},
                        'B': {t: "‡∏ô‡∏±‡∏Å‡∏™‡∏±‡∏ô‡∏ï‡∏¥‡∏ß‡∏¥‡∏ò‡∏µ", d: "‡∏≠‡∏±‡∏Å‡∏©‡∏£‡∏ò‡∏≤‡∏ï‡∏∏‡∏ô‡πâ‡∏≥ ‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏≠‡πà‡∏≠‡∏ô‡πÇ‡∏¢‡∏ô ‡∏õ‡∏£‡∏±‡∏ö‡∏ï‡∏±‡∏ß‡πÄ‡∏Å‡πà‡∏á ‡πÅ‡∏•‡∏∞‡∏£‡∏±‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏á‡∏ö", aura: "‡∏™‡∏µ‡∏ü‡πâ‡∏≤‡πÉ‡∏™", p: 78},
                        '‡∏Å': {t: "‡∏û‡∏ç‡∏≤‡∏´‡∏á‡∏™‡πå‡∏ú‡∏π‡πâ‡∏™‡∏á‡πà‡∏≤‡∏á‡∏≤‡∏°", d: "‡∏ß‡∏≤‡∏™‡∏ô‡∏≤‡∏™‡∏π‡∏á‡∏™‡πà‡∏á ‡∏°‡∏µ‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà‡∏Ñ‡∏≠‡∏¢‡∏≠‡∏∏‡∏õ‡∏ñ‡∏±‡∏°‡∏†‡πå‡∏Ñ‡πâ‡∏≥‡∏ä‡∏π‡∏ï‡∏•‡∏≠‡∏î‡πÄ‡∏ß‡∏•‡∏≤", aura: "‡∏™‡∏µ‡∏ó‡∏≠‡∏á‡∏Ñ‡∏≥", p: 95},
                        '‡∏ô': {t: "‡∏ô‡∏±‡∏Å‡∏õ‡∏£‡∏≤‡∏ä‡∏ç‡πå‡∏ú‡∏π‡πâ‡∏õ‡∏£‡∏≤‡∏î‡πÄ‡∏õ‡∏£‡∏∑‡πà‡∏≠‡∏á", d: "‡∏°‡∏µ‡∏û‡∏•‡∏±‡∏á‡∏ó‡∏≤‡∏á‡∏Ñ‡∏≥‡∏û‡∏π‡∏î ‡∏ß‡∏≤‡∏à‡∏≤‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå ‡∏û‡∏π‡∏î‡∏≠‡∏∞‡πÑ‡∏£‡∏Ñ‡∏ô‡∏°‡∏±‡∏Å‡∏à‡∏∞‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏ñ‡∏∑‡∏≠", aura: "‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡∏°‡∏£‡∏Å‡∏ï", p: 88}
                    };
                    const defaultVibe = {t: "‡∏ú‡∏π‡πâ‡πÅ‡∏™‡∏ß‡∏á‡∏´‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à", d: "‡∏ä‡∏∑‡πà‡∏≠‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏°‡∏µ‡∏Ñ‡∏•‡∏∑‡πà‡∏ô‡∏™‡∏±‡πà‡∏ô‡∏™‡∏∞‡πÄ‡∏ó‡∏∑‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏°‡∏á‡∏Ñ‡∏• ‡∏™‡πà‡∏á‡∏ú‡∏•‡πÉ‡∏´‡πâ‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏Å‡πâ‡∏≤‡∏ß‡∏´‡∏ô‡πâ‡∏≤‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á", aura: "‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß‡∏°‡∏∏‡∏Å", p: 85};

                    // 3. Thai Zodiac (Strict alignment)
                    const getThai = (m, d) => {
                        if ((m == 1 && d >= 15) || (m == 2 && d <= 12)) return {n: "‡∏°‡∏±‡∏á‡∏Å‡∏£", s: "‡πÅ‡∏û‡∏∞‡∏ó‡∏∞‡πÄ‡∏•", i: "‚ôë", desc: "‡∏ú‡∏π‡πâ‡∏Å‡∏∏‡∏°‡∏≠‡∏≥‡∏ô‡∏≤‡∏à‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡∏ó‡∏µ‡πà‡∏¢‡∏¥‡πà‡∏á‡πÉ‡∏´‡∏ç‡πà", period: "15 ‡∏°.‡∏Ñ. - 12 ‡∏Å.‡∏û."};
                        if ((m == 2 && d >= 13) || (m == 3 && d <= 13)) return {n: "‡∏Å‡∏∏‡∏°‡∏†‡πå", s: "‡∏Ñ‡∏ô‡πÅ‡∏ö‡∏Å‡∏´‡∏°‡πâ‡∏≠‡∏ô‡πâ‡∏≥", i: "‚ôí", desc: "‡∏ô‡∏±‡∏Å‡∏Ñ‡∏¥‡∏î‡∏ú‡∏π‡πâ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏£‡∏£‡∏Ñ‡πå‡∏ô‡∏ß‡∏±‡∏ï‡∏Å‡∏£‡∏£‡∏°‡πÉ‡∏´‡∏°‡πà‡πÜ", period: "13 ‡∏Å.‡∏û. - 13 ‡∏°‡∏µ.‡∏Ñ."};
                        if ((m == 3 && d >= 14) || (m == 4 && d <= 12)) return {n: "‡∏°‡∏µ‡∏ô", s: "‡∏õ‡∏•‡∏≤‡∏Ñ‡∏π‡πà", i: "‚ôì", desc: "‡∏à‡∏¥‡∏ï‡∏ß‡∏¥‡∏ç‡∏ç‡∏≤‡∏ì‡πÅ‡∏´‡πà‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏°‡∏ï‡∏ï‡∏≤‡πÅ‡∏•‡∏∞‡∏•‡∏≤‡∏á‡∏™‡∏±‡∏á‡∏´‡∏£‡∏ì‡πå", period: "14 ‡∏°‡∏µ.‡∏Ñ. - 12 ‡πÄ‡∏°.‡∏¢."};
                        if ((m == 4 && d >= 13) || (m == 5 && d <= 13)) return {n: "‡πÄ‡∏°‡∏©", s: "‡πÅ‡∏Å‡∏∞", i: "‚ôà", desc: "‡∏ú‡∏π‡πâ‡∏ô‡∏≥‡∏ó‡∏µ‡πà‡∏Å‡∏•‡πâ‡∏≤‡∏´‡∏≤‡∏ç‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ö‡∏∏‡∏Å‡∏ï‡∏∞‡∏•‡∏∏‡∏¢‡∏ó‡∏∏‡∏Å‡∏≠‡∏∏‡∏õ‡∏™‡∏£‡∏£‡∏Ñ", period: "13 ‡πÄ‡∏°.‡∏¢. - 13 ‡∏û.‡∏Ñ."};
                        if ((m == 5 && d >= 14) || (m == 6 && d <= 13)) return {n: "‡∏û‡∏§‡∏©‡∏†", s: "‡∏ß‡∏±‡∏ß", i: "‚ôâ", desc: "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏≠‡∏∏‡∏î‡∏°‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå‡∏Ç‡∏≠‡∏á‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï", period: "14 ‡∏û.‡∏Ñ. - 13 ‡∏°‡∏¥.‡∏¢."};
                        if ((m == 6 && d >= 14) || (m == 7 && d <= 14)) return {n: "‡πÄ‡∏°‡∏ñ‡∏∏‡∏ô", s: "‡∏Ñ‡∏ô‡∏Ñ‡∏π‡πà", i: "‚ôä", desc: "‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏â‡∏•‡∏µ‡∏¢‡∏ß‡∏â‡∏•‡∏≤‡∏î‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏¢‡∏≠‡∏î‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°", period: "14 ‡∏°‡∏¥.‡∏¢. - 14 ‡∏Å.‡∏Ñ."};
                        if ((m == 7 && d >= 15) || (m == 8 && d <= 16)) return {n: "‡∏Å‡∏£‡∏Å‡∏é", s: "‡∏õ‡∏π", i: "‚ôã", desc: "‡∏ú‡∏π‡πâ‡∏õ‡∏Å‡∏õ‡πâ‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏Å‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏£‡∏±‡∏ß‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡∏¥‡πà‡∏á‡∏™‡∏á‡∏ö", period: "15 ‡∏Å.‡∏Ñ. - 16 ‡∏™.‡∏Ñ."};
                        if ((m == 8 && d >= 17) || (m == 9 && d <= 16)) return {n: "‡∏™‡∏¥‡∏á‡∏´‡πå", s: "‡∏™‡∏¥‡∏á‡πÇ‡∏ï", i: "‚ôå", desc: "‡∏£‡∏±‡∏®‡∏°‡∏µ‡πÅ‡∏´‡πà‡∏á‡∏ú‡∏π‡πâ‡∏ô‡∏≥‡∏ú‡∏π‡πâ‡∏¢‡∏¥‡πà‡∏á‡πÉ‡∏´‡∏ç‡πà‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏≠‡∏≥‡∏ô‡∏≤‡∏à‡∏ö‡∏≤‡∏£‡∏°‡∏µ", period: "17 ‡∏™.‡∏Ñ. - 16 ‡∏Å.‡∏¢."};
                        if ((m == 9 && d >= 17) || (m == 10 && d <= 16)) return {n: "‡∏Å‡∏±‡∏ô‡∏¢‡πå", s: "‡∏´‡∏ç‡∏¥‡∏á‡∏™‡∏≤‡∏ß", i: "‚ôç", desc: "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏•‡∏∞‡∏≠‡∏≠‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏á‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå‡πÅ‡∏ö‡∏ö", period: "17 ‡∏Å.‡∏¢. - 16 ‡∏ï.‡∏Ñ."};
                        if ((m == 10 && d >= 17) || (m == 11 && d <= 15)) return {n: "‡∏ï‡∏∏‡∏•‡∏¢‡πå", s: "‡∏Ñ‡∏±‡∏ô‡∏ä‡∏±‡πà‡∏á", i: "‚ôé", desc: "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏∏‡∏ï‡∏¥‡∏ò‡∏£‡∏£‡∏°‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏°‡∏î‡∏∏‡∏•‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏•‡∏¥‡∏®", period: "17 ‡∏ï.‡∏Ñ. - 15 ‡∏û.‡∏¢."};
                        if ((m == 11 && d >= 16) || (m == 12 && d <= 15)) return {n: "‡∏û‡∏¥‡∏à‡∏¥‡∏Å", s: "‡πÅ‡∏°‡∏á‡∏õ‡πà‡∏≠‡∏á", i: "‚ôè", desc: "‡∏û‡∏•‡∏±‡∏á‡∏•‡∏∂‡∏Å‡∏•‡∏±‡∏ö‡∏ó‡∏µ‡πà‡∏Ç‡∏±‡∏ö‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏£‡∏≤‡∏£‡∏ñ‡∏ô‡∏≤‡∏≠‡∏±‡∏ô‡πÅ‡∏£‡∏á‡∏Å‡∏•‡πâ‡∏≤", period: "16 ‡∏û.‡∏¢. - 15 ‡∏ò.‡∏Ñ."};
                        return {n: "‡∏ò‡∏ô‡∏π", s: "‡∏ô‡∏±‡∏Å‡∏¢‡∏¥‡∏á‡∏ò‡∏ô‡∏π", i: "‚ôê", desc: "‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏ß‡∏á‡∏´‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏£‡∏¥‡∏á‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ó‡∏µ‡πà‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î", period: "16 ‡∏ò.‡∏Ñ. - 14 ‡∏°.‡∏Ñ."};
                    };

                    // 4. Inter Zodiac (Tropical alignment)
                    const getInter = (m, d) => {
                        if ((m == 12 && d >= 22) || (m == 1 && d <= 19)) return {n: "Capricorn", s: "Sea-Goat", i: "‚ôë", desc: "Architect of Ambition", period: "Dec 22 - Jan 19"};
                        if ((m == 1 && d >= 20) || (m == 2 && d <= 18)) return {n: "Aquarius", s: "Water-Bearer", i: "‚ôí", desc: "The Eccentric Visionary", period: "Jan 20 - Feb 18"};
                        if ((m == 2 && d >= 19) || (m == 3 && d <= 20)) return {n: "Pisces", s: "The Fish", i: "‚ôì", desc: "The Spiritual Artist", period: "Feb 19 - Mar 20"};
                        if ((m == 3 && d >= 21) || (m == 4 && d <= 19)) return {n: "Aries", s: "The Ram", i: "‚ôà", desc: "The Fearless Pioneer", period: "Mar 21 - Apr 19"};
                        if ((m == 4 && d >= 20) || (m == 5 && d <= 20)) return {n: "Taurus", s: "The Bull", i: "‚ôâ", desc: "The Loyal Builder", period: "Apr 20 - May 20"};
                        if ((m == 5 && d >= 21) || (m == 6 && d <= 20)) return {n: "Gemini", s: "The Twins", i: "‚ôä", desc: "The Brilliant Communicator", period: "May 21 - Jun 20"};
                        if ((m == 6 && d >= 21) || (m == 7 && d <= 22)) return {n: "Cancer", s: "The Crab", i: "‚ôã", desc: "The Intuitve Guardian", period: "Jun 21 - Jul 22"};
                        if ((m == 7 && d >= 23) || (m == 8 && d <= 22)) return {n: "Leo", s: "The Lion", i: "‚ôå", desc: "The Radiant Leader", period: "Jul 23 - Aug 22"};
                        if ((m == 8 && d >= 23) || (m == 9 && d <= 22)) return {n: "Virgo", s: "The Virgin", i: "‚ôç", desc: "The Perfectionist Sage", period: "Aug 23 - Sep 22"};
                        if ((m == 9 && d >= 23) || (m == 10 && d <= 22)) return {n: "Libra", s: "The Scales", i: "‚ôé", desc: "The Harmony Seeker", period: "Sep 23 - Oct 22"};
                        if ((m == 10 && d >= 23) || (m == 11 && d <= 21)) return {n: "Scorpio", s: "The Scorpion", i: "‚ôè", desc: "The Soul Alchemist", period: "Oct 23 - Nov 21"};
                        return {n: "Sagittarius", s: "The Archer", i: "‚ôê", desc: "The Questing Scholar", period: "Nov 22 - Dec 21"};
                    };

                    // 5. Gender-Specific Database (80+ Lines)
                    const getGenderF = (g, a) => {
                        const db = {
                            "Male": [
                                {icon: "‚öîÔ∏è", topic: "‡∏≠‡∏≥‡∏ô‡∏≤‡∏à‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏Ñ‡∏£‡∏≠‡∏á‡∏ï‡∏ô", text: `‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ö‡∏∏‡∏£‡∏∏‡∏©‡∏õ‡∏µ${a.n} ‡πÉ‡∏ô‡∏õ‡∏µ‡∏ô‡∏µ‡πâ‡∏î‡∏≤‡∏ß‡∏û‡∏§‡∏´‡∏±‡∏™‡∏™‡πà‡∏á‡∏ú‡∏•‡πÉ‡∏´‡πâ‡∏ö‡∏≤‡∏£‡∏°‡∏µ‡πÅ‡∏ú‡πà‡∏Å‡∏ß‡πâ‡∏≤‡∏á ‡∏à‡∏∞‡πÑ‡∏î‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏ó‡∏µ‡πà‡∏û‡∏∂‡πà‡∏á‡∏û‡∏≤‡∏Ç‡∏≠‡∏á‡∏ö‡∏£‡∏¥‡∏ß‡∏≤‡∏£`},
                                {icon: "üí∞", topic: "‡∏Å‡∏≤‡∏£‡∏Ç‡∏¢‡∏≤‡∏¢‡∏≠‡∏≤‡∏ì‡∏≤‡∏à‡∏±‡∏Å‡∏£", text: "‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏∞‡∏ó‡∏≠‡∏á‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡∏á‡∏ó‡∏∏‡∏ô‡∏Ç‡πâ‡∏≤‡∏°‡∏≠‡∏∏‡∏ï‡∏™‡∏≤‡∏´‡∏Å‡∏£‡∏£‡∏° ‡∏û‡∏•‡∏±‡∏á‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡πÅ‡∏ö‡∏ö Passive"},
                                {icon: "ü§ù", topic: "‡∏û‡∏±‡∏ô‡∏ò‡∏°‡∏¥‡∏ï‡∏£‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à", text: "‡∏ú‡∏π‡πâ‡∏ä‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏≠‡∏≥‡∏ô‡∏≤‡∏à‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡∏à‡∏∞‡∏¢‡∏∑‡πà‡∏ô‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏ô‡∏≠‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏°‡πà‡∏≠‡∏≤‡∏à‡∏õ‡∏è‡∏¥‡πÄ‡∏™‡∏ò‡πÑ‡∏î‡πâ"}
                            ],
                            "Female": [
                                {icon: "‚ú®", topic: "‡πÄ‡∏°‡∏ï‡∏ï‡∏≤‡∏°‡∏´‡∏≤‡∏ô‡∏¥‡∏¢‡∏°", text: `‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡∏ï‡∏£‡∏µ‡∏õ‡∏µ${a.n} ‡∏≠‡∏≠‡∏£‡πà‡∏≤‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡πÄ‡∏õ‡∏•‡πà‡∏á‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏¢‡∏î‡∏∂‡∏á‡∏î‡∏π‡∏î‡∏™‡∏¥‡πà‡∏á‡∏î‡∏µ‡πÜ ‡πÇ‡∏î‡∏¢‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏à‡∏≤‡∏Å‡πÄ‡∏û‡∏®‡∏ï‡∏£‡∏á‡∏Ç‡πâ‡∏≤‡∏°`},
                                {icon: "üíé", topic: "‡∏ó‡∏£‡∏±‡∏û‡∏¢‡πå‡∏™‡∏¥‡∏ô‡πÅ‡∏•‡∏∞‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡∏î‡∏±‡∏ö", text: "‡∏°‡∏µ‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Ç‡∏≠‡∏á‡∏°‡∏µ‡∏Ñ‡πà‡∏≤‡∏´‡∏£‡∏∑‡∏≠‡∏°‡∏£‡∏î‡∏Å‡∏ó‡∏µ‡πà‡∏£‡∏≠‡∏Ñ‡∏≠‡∏¢‡∏°‡∏≤‡∏ô‡∏≤‡∏ô ‡∏Å‡∏≤‡∏£‡∏á‡∏≤‡∏ô‡∏à‡∏∞‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡∏∏‡πà‡∏°‡∏ô‡∏ß‡∏•"},
                                {icon: "üé®", topic: "‡∏®‡∏¥‡∏•‡∏õ‡∏∞‡πÅ‡∏•‡∏∞‡∏£‡∏™‡∏ô‡∏¥‡∏¢‡∏°", text: "‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏™‡∏∏‡∏ô‡∏ó‡∏£‡∏µ‡∏¢‡∏†‡∏≤‡∏û‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡∏ó‡∏≥‡πÄ‡∏á‡∏¥‡∏ô‡∏´‡∏•‡∏±‡∏Å‡πÉ‡∏´‡πâ‡∏Ñ‡∏∏‡∏ì‡πÉ‡∏ô‡∏õ‡∏µ‡∏ô‡∏µ‡πâ"}
                            ],
                            "Diverse": [
                                {icon: "üåà", topic: "‡πÄ‡∏™‡∏£‡∏µ‡∏†‡∏≤‡∏û‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à", text: `‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ú‡∏π‡πâ‡∏°‡∏µ‡∏´‡∏±‡∏ß‡πÉ‡∏à‡∏≠‡∏¥‡∏™‡∏£‡∏∞‡∏õ‡∏µ${a.n} ‡∏õ‡∏µ‡∏ô‡∏µ‡πâ‡∏Ñ‡∏∑‡∏≠‡∏õ‡∏µ‡πÅ‡∏´‡πà‡∏á‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏•‡∏≤‡∏¢‡πÄ‡∏û‡∏î‡∏≤‡∏ô‡πÄ‡∏î‡∏¥‡∏°‡πÜ ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡∏•‡πâ‡∏≥‡∏™‡∏°‡∏±‡∏¢‡∏à‡∏ô‡πÇ‡∏•‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏´‡∏¢‡∏∏‡∏î‡∏î‡∏π`},
                                {icon: "‚ö°", topic: "‡∏ô‡∏ß‡∏±‡∏ï‡∏Å‡∏£‡∏£‡∏°‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á", text: "‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏∑‡∏≠‡∏ú‡∏π‡πâ‡∏ô‡∏≥‡πÄ‡∏ó‡∏£‡∏ô‡∏î‡πå‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏≠‡∏∏‡∏ï‡∏™‡∏≤‡∏´‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡πÉ‡∏´‡∏°‡πà"},
                                {icon: "üåç", topic: "‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏™‡∏≤‡∏Å‡∏•", text: "‡πÄ‡∏Ñ‡∏£‡∏∑‡∏≠‡∏Ç‡πà‡∏≤‡∏¢‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏ï‡πà‡∏≤‡∏á‡∏ä‡∏≤‡∏ï‡∏¥‡∏à‡∏∞‡∏û‡∏±‡∏î‡∏û‡∏≤‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÇ‡∏•‡∏Å‡∏°‡∏≤‡∏ñ‡∏∂‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏õ‡∏£‡∏∞‡∏ï‡∏π‡∏ö‡πâ‡∏≤‡∏ô‡∏ó‡πà‡∏≤‡∏ô"}
                            ]
                        };
                        return db[g];
                    };

                    // 6. Final Calculation
                    const bCE = (yBE - 543);
                    const birth = new Date(bCE, dob.getMonth(), dob.getDate());
                    let diffY = now.getFullYear() - birth.getFullYear();
                    let diffM = now.getMonth() - birth.getMonth();
                    if (diffM < 0) { diffY--; diffM += 12; }

                    const az = animalDB[modResult];
                    this.result = {
                        name: this.form.name, nickname: this.form.nickname, gender: this.form.gender,
                        age: `${diffY} ‡∏õ‡∏µ ${diffM} ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô`,
                        remainder: modResult, animal: az.n, animalIcon: az.i, element: az.e,
                        nameVibe: vibrationDB[firstChar] || defaultVibe,
                        nameVibeInitial: firstChar,
                        thaiZ: getThai(m, d),
                        interZ: getInter(m, d),
                        genderF: getGenderF(this.form.gender, az)
                    };

                    this.phase = 'result'; this.processing = false;
                    window.scrollTo({top: 0, behavior: 'smooth'});
                },

                exportResult() {
                    const data = { ...this.result, timestamp: new Date().toLocaleString('th-TH') };
                    this.records.unshift(data);
                    if(this.records.length > 50) this.records.pop();
                    localStorage.setItem('SOVEREIGN_DB', JSON.stringify(this.records));
                    alert('‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏î‡∏ß‡∏á‡∏ä‡∏∞‡∏ï‡∏≤‡∏Ç‡∏≠‡∏á ' + this.result.name + ' ‡∏•‡∏á‡πÉ‡∏ô‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢!');
                },

                recallRecord(rec) {
                    this.result = rec;
                    this.phase = 'result';
                    this.showHistory = false;
                },

                clearDatabase() {
                    if(confirm('‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î?')) {
                        this.records = [];
                        localStorage.removeItem('SOVEREIGN_DB');
                    }
                }
            }
        }
    </script>
</body>
</html>
